{% extends 'base.html' %}
{% load static %}

{% block content %}

<link rel="stylesheet" href="{% static 'css/style.css' %}">
<link rel="stylesheet" href="{% static 'css/cms_style.css' %}">
<style>
  .cal-con{
    width: 32%;
    min-width: 235px;
  }
  .uploaddiv{
    background: #FFFF;
    display: flex;
    flex-wrap: wrap;
    border-radius: 17px;
    margin-top: 12px;
    width: calc(100% - 2em);
    height: 60%;
    margin: auto;
    padding-top: 31px;
    padding-bottom: 20px;
    border-radius: 10px;
    justify-content: center;
    gap: 22px;

  }
 
  .exportbtn{
  background: #047BD5;
  height: 30px;
  width: 160px;
  border-radius: 7px;
  color: white;
  font-size: 12px;
  border: none;
  border: none;
}
.flatpickr-time{
  display: none;
}
  @media screen and (max-width: 512px){
    .uploaddiv{
      margin-left: 23px;
      width: 80%;
      padding-left: 12px;
    }
   
  }
</style>
<form action="{% url 'qsexport' %}" method="post">
<main class="main-reminder">
  <div class="row">
    {% csrf_token %}
    <div class="uploaddiv" >
         
        <div style="width: 200px;">
            <select class="process np-select" name="process" style="width: 100%;">
              <option value="">Process</option>
              <option value="all">All</option>
            <!-- {% for i in u %}
              <option value="{{i.username}}">{{i.username}}</option>
              {% endfor %} -->
            </select>
           </div>

           <div style="width: 200px;">
            <select class="np-select agn" name="agn" style="width: 100%;">
              <option value="">Agent Name</option>
              <option value="all">All</option>
            {% for i in u %}
              <option value="{{i.username}}">{{i.username}}</option>
              {% endfor %}
            </select>
           </div>

           <div style="width: 200px;">
            <select class="np-select cri_sel" name="cri_sel" style="width: 100%;">
              <option value="">Select Criteria</option>
              <option value="all">All</option>
            <!-- {% for i in u %}
              <option value="{{i.username}}">{{i.username}}</option>
              {% endfor %} -->
            </select>
           </div>

           <div style="width: 200px;">
            <div class="date-wrapper">
              <svg class="cal__icon" width="18" height="13" viewBox="0 0 18 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M6 9V11H4V9H6ZM10 9V11H8V9H10ZM14 9V11H12V9H14ZM16 2C16.5304 2 17.0391 2.21071 17.4142 2.58579C17.7893 2.96086 18 3.46957 18 4V18C18 18.5304 17.7893 19.0391 17.4142 19.4142C17.0391 19.7893 16.5304 20 16 20H2C0.89 20 0 19.1 0 18V4C0 3.46957 0.210714 2.96086 0.585786 2.58579C0.960859 2.21071 1.46957 2 2 2H3V0H5V2H13V0H15V2H16ZM16 18V7H2V18H16ZM6 13V15H4V13H6ZM10 13V15H8V13H10ZM14 13V15H12V13H14Z" fill="#575757"/>
                </svg>
              <input type="text" class="datepick" name="fdate" autocomplete="off">
            </div>
           </div>

           <div style="width: 200px;">
            <div class="date-wrapper">
              <svg class="cal__icon" width="18" height="13" viewBox="0 0 18 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M6 9V11H4V9H6ZM10 9V11H8V9H10ZM14 9V11H12V9H14ZM16 2C16.5304 2 17.0391 2.21071 17.4142 2.58579C17.7893 2.96086 18 3.46957 18 4V18C18 18.5304 17.7893 19.0391 17.4142 19.4142C17.0391 19.7893 16.5304 20 16 20H2C0.89 20 0 19.1 0 18V4C0 3.46957 0.210714 2.96086 0.585786 2.58579C0.960859 2.21071 1.46957 2 2 2H3V0H5V2H13V0H15V2H16ZM16 18V7H2V18H16ZM6 13V15H4V13H6ZM10 13V15H8V13H10ZM14 13V15H12V13H14Z" fill="#575757"/>
              </svg>
              <input type="text" class="datepick" name="todate" autocomplete="off">
            </div>
           </div>

           <button  type="submit" class="exportbtn">Export</button>
       </div>
    </main>
    </form>
  <script>
    $('.datepick').daterangepicker({
    singleDatePicker:true,
    autoApply:true,
    locale: {
            format: 'DD-MM-YYYY'
        }
  });
  if ( window.history.replaceState ) {
      window.history.replaceState( null, null, window.location.href );
    }

    $(document).ready(function(){
      $('.header-title').html("Quality Export")

   
    $(".exportbtn").click(function(){
        console.log("click")
        // var fdata=new FormData()
        // fdata.append("pro_sel",$("select[name=process]").val())
        // fdata.append("agn_sel",$("select[name=agn]").val())
        // fdata.append("cri_sel",$("select[name=cri_sel]").val())
        // fdata.append("fdate",$("input[name=fdate]").val())
        // fdata.append("tdate",$("input[name=todate]").val())
        // $.ajax({
        // method: 'post',
        // headers: {
        // "X-CSRFToken": document.querySelector('[name=csrfmiddlewaretoken]').value,
        // },
        // url: "{% url 'qsexport' %}",
        // datatype:'json',
        // data:fdata,
        // processData: false,
        // contentType: false,
        // success: function (e) {
        //     }
        //  })

        })

      })
</script>
{% endblock content %}